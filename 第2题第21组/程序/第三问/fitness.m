function F=fitness(x)
need=[        4500        5300        4200        5000     4500.00 	4100.00 	4300.00 	5200.00 ];
demand=[ 400         500         800        3000        3000        3500        4000        4000        3500        3000        4000        4000        4000];
timer=[  40    40    20    35    25    20    30    30    25    26    19    40    40    
         25    35    25    30    50    28    20    25    45    34    23    50    20    
         17    25    22    45    30    56    45    55    30    22    42    30    20   
         20    25    15    30    40    30    30    35    28    32    30    27    25
         20    24 	 25    26 	 27    34 	 36    35 	 34    41 	 21    23 	 22
         35    41 	 32	   41	 22    31 	 32    22	 16    17 	 23    22 	 30 
         18    34 	 34    56 	 34    22 	 25    20 	 17    18 	 34    37 	 43 
         19    36 	 34    34 	 43    23 	 30    45 	 15    35 	 46    32 	 28 ];
M=999;
x=reshape(x,8,13);
y=x;
n=size(x,1);
m=size(x,2);
y(y>0)=1;
y(y<=0)=0;
juzhen=timer.*y;
for i=1:n
    zn=y(i,:).*x(i,:);
    zt(i)=sum(zn)-need(i);
    if i<4
    yt(i)=sum(y(:,i))-1;
    end
end
zm=min(zt);
ym=min(yt);
for j=1:m
    zd=y(:,j).*x(:,j);
    zd=sum(zd);
    zt_(j)=demand(j)-zd;
end
zm_=min(zt_);
z=min([0 zm zm_ ym]);
F=max(max(juzhen))-z*M;

